<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>
ID: #{param.eventID}

            <h:form id="BmwEventEditForm">

                <h:panelGroup id="display">
                    <p:panelGrid  columns="2">

                        <h:outputLabel value="#{bundle.EditBmwEventLabel_id}" for="id" />
                        <h:outputText id="id" value="#{bmwEventPicklist.current.id}" />

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_name}" for="name" />
                        <p:inputText id="name" value="#{bmwEventPicklist.current.name}" title="#{bundle.EditBmwEventTitle_name}" required="true" requiredMessage="#{bundle.EditBmwEventRequiredMessage_name}"/>

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_startEventdate}" for="startEventdate" />
                        <p:calendar id="startEventdate" pattern="MM/dd/yyyy HH:mm:ss" value="#{bmwEventPicklist.current.startEventdate}" title="#{bundle.EditBmwEventTitle_startEventdate}" required="true" requiredMessage="#{bundle.EditBmwEventRequiredMessage_startEventdate}" showOn="button"/>

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_endEventdate}" for="endEventdate" />
                        <p:calendar id="endEventdate" pattern="MM/dd/yyyy HH:mm:ss" value="#{bmwEventPicklist.current.endEventdate}" title="#{bundle.EditBmwEventTitle_endEventdate}" required="true" requiredMessage="#{bundle.EditBmwEventRequiredMessage_endEventdate}" showOn="button"/>

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_maxParticipants}" for="maxParticipants" />
                        <p:inputText id="maxParticipants" value="#{bmwEventPicklist.current.maxParticipants}" title="#{bundle.EditBmwEventTitle_maxParticipants}" />

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_description}" for="description" />
                        <p:inputTextarea rows="4" cols="30" id="description" value="#{bmwEventPicklist.current.description}" title="#{bundle.EditBmwEventTitle_description}" />

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_location}" for="location" />
                        <p:inputText id="location" value="#{bmwEventPicklist.current.location}" title="#{bundle.EditBmwEventTitle_location}" />

                        <p:outputLabel value="#{bundle.EditBmwEventLabel_urgencyDayLimit}" for="urgencyDayLimit" />
                        <p:inputText id="urgencyDayLimit" value="#{bmwEventPicklist.current.urgencyDayLimit}" title="#{bundle.EditBmwEventTitle_urgencyDayLimit}" />
                    
                         
                    </p:panelGrid>
                 </h:panelGroup>
				<p:commandButton id="Submit" value="Speichern" action="#{bmwEventPicklist.saveCurrent()}" oncomplete="cityDialog.show()" style="margin-top:5px"/>  
            </h:form>

<h:form id="BmwUserListForm">

        <p:panel header="Teilnehmer">

            <p:dataTable id="datalist" value="#{bmwUserController.items}" var="item"
                         selection="#{bmwEventPicklist.u}"
                         rowKey="#{item.uid}"
                         paginator="true"
                         rows="10"
                         rowsPerPageTemplate="10,20,30"
                         >

 <p:column selectionMode="multiple" style="width:2%" />  
               
                <p:column sortBy="#{item.personenID.vorname}" filterBy="#{item.personenID.vorname}">
                    <f:facet name="header">
                        <h:outputText value="Vorname"/>
                    </f:facet>
                    <h:outputText value="#{item.personenID.vorname}"/>
                </p:column>
				
                <p:column sortBy="#{item.personenID.nachname}" filterBy="#{item.personenID.nachname}">
                    <f:facet name="header">
                        <h:outputText value="Nachname"/>
                    </f:facet>
                    <h:outputText value="#{item.personenID.nachname}"/>
                </p:column>
				 <p:column sortBy="#{item.personenID.firma}" filterBy="#{item.personenID.firma}">
                    <f:facet name="header">
                        <h:outputText value="Firma"/>
                    </f:facet>
                    <h:outputText value="#{item.personenID.firma}"/>
                </p:column>
				 <p:column sortBy="#{item.rating}" filterBy="#{item.rating}">
                    <f:facet name="header">
                        <h:outputText value="Rating"/>
                    </f:facet>
                    <h:outputText value="#{item.rating}"/>
                </p:column>
               
                <f:facet name="footer">
					 <p:commandButton id="multiViewButton" value="View" icon="ui-icon-search"  
                             update=":BmwUserListForm:displayMulti" oncomplete="multiCarDialog.show()"/> 
              	</f:facet>

            </p:dataTable>

        

	<p:dialog id="multiDialog" header="Car Detail" widgetVar="multiCarDialog"  
              height="300" showEffect="fade" hideEffect="explode">  
  
        <p:dataList id="displayMulti" value="#{bmwEventPicklist.u}" var="i" >  
            Model: #{i.uid}, Year: #{i.personenID.nameVollstaendig}  
        </p:dataList>  
  
    </p:dialog>  
	</p:panel>
    </h:form>



    </ui:composition>

</html>
